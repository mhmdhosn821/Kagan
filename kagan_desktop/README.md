# Kagan Desktop ERP

سیستم ERP دسکتاپ جامع برای مدیریت آرایشگاه و کافه با PyQt6

## نصب و اجرا

### پیش‌نیازها
- Python 3.9 یا بالاتر
- pip

### نصب

1. نصب وابستگی‌ها:
```bash
pip install PyQt6 PyQt6-Charts
```

2. اجرای برنامه:
```bash
cd kagan_desktop
python main.py
```

**نکته:** برنامه به صورت خودکار PyQt6 را نصب می‌کند اگر نصب نباشد.

## ویژگی‌ها

### 1. صفحه ورود (Login)
- احراز هویت با نام کاربری و رمز عبور
- سه نقش: ادمین، آرایشگر، باریستا
- محدودسازی دسترسی بر اساس نقش

**کاربران پیشفرض:**
- مدیر: `admin` / `admin123`
- آرایشگر: `barber1` / `barber123`
- باریستا: `barista1` / `barista123`

### 2. داشبورد (Dashboard)
- فروش امروز / این ماه
- تعداد مشتریان
- هشدار موجودی کم
- آخرین فاکتورها

### 3. مدیریت انبار دوگانه (Dual Inventory)
**انبار کافه:**
- مواد اولیه: شیر، قهوه، شکلات
- واحدها: گرم، لیتر، میلی‌لیتر

**انبار آرایشگاه:**
- مواد مصرفی: شامپو، رنگ، اکسیدان
- محصولات ویترینی: واکس مو، ادکلن

**ویژگیها:**
- هشدار اتمام موجودی
- افزودن موجودی
- گزارش موجودی ریالی

### 4. بخش آرایشگاه (Barbershop)
- تعریف خدمات (اصلاح، گریم، ماساژ، رنگ)
- مدیریت قیمت و مدت زمان
- توضیحات هر خدمت

### 5. بخش کافه (Cafe)
- منوی محصولات
- دسته‌بندی: قهوه، چای، شکلات، دسر
- مدیریت قیمت

### 6. نوبت‌دهی (Booking)
- رزرو نوبت برای مشتریان
- انتخاب آرایشگر و خدمت
- تعیین تاریخ و ساعت
- وضعیت: رزرو شده، تکمیل شده، لغو شده

### 7. مدیریت مشتریان (CRM)
- پرونده الکترونیک مشتری
- اطلاعات تماس
- امتیاز وفاداری
- یادداشت و تاریخ تولد

### 8. فاکتورزنی (Invoicing)
- فاکتور ترکیبی (خدمت + کالا)
- انتخاب مشتری
- اعمال تخفیف
- روش پرداخت (نقد، کارت، اعتباری)
- ذخیره خودکار در دیتابیس

### 9. گزارشات (Reports)
- گزارش فروش روزانه/ماهانه
- گزارش موجودی ریالی انبار
- گزارش کمیسیون آرایشگران
- فیلتر بر اساس تاریخ

### 10. تنظیمات (Settings)
- نمایش اطلاعات کاربر
- تغییر رمز عبور
- پشتیبان‌گیری از دیتابیس
- آمار سیستم

## ساختار پروژه

```
kagan_desktop/
├── main.py              # نقطه ورود اصلی
├── database.py          # مدیریت دیتابیس SQLite
├── models.py            # مدلهای داده
├── ui/
│   ├── login.py         # صفحه ورود
│   ├── main_window.py   # پنجره اصلی با منوی کناری
│   ├── dashboard.py     # داشبورد با آمار
│   ├── customers.py     # مدیریت مشتریان
│   ├── inventory.py     # انبارداری دوگانه
│   ├── barbershop.py    # خدمات آرایشگاه
│   ├── cafe.py          # محصولات کافه
│   ├── invoices.py      # فاکتورزنی
│   ├── booking.py       # نوبت‌دهی
│   ├── reports.py       # گزارشات مالی
│   └── settings.py      # تنظیمات
├── utils/
│   ├── printer.py       # چاپ فاکتور
│   └── helpers.py       # توابع کمکی
└── assets/
    ├── styles.qss       # استایلهای Qt
    └── logo.txt         # اطلاعات لوگو
```

## دیتابیس

برنامه از SQLite استفاده می‌کند. فایل دیتابیس (`kagan_desktop.db`) به صورت خودکار در اولین اجرا ساخته می‌شود.

### جداول:
- `users` - کاربران و نقش‌ها
- `customers` - مشتریان
- `inventory` - کالاهای انبار
- `services` - خدمات آرایشگاه
- `products` - محصولات کافه
- `bookings` - نوبت‌ها
- `invoices` - فاکتورها
- `invoice_items` - آیتم‌های فاکتور
- `settings` - تنظیمات

## رابط کاربری

### طراحی RTL
- همه عناصر از راست به چپ
- فونت پیشفرض: Tahoma (در صورت عدم وجود فونت وزیر)
- رنگ‌بندی حرفه‌ای و مدرن

### رنگ‌ها:
- Primary: #2C3E50 (سرمهای تیره)
- Secondary: #3498DB (آبی)
- Accent: #E74C3C (قرمز برای هشدار)
- Success: #27AE60 (سبز)
- Background: #ECF0F1 (خاکستری روشن)

## محدودیت دسترسی

### ادمین:
دسترسی کامل به تمام بخش‌ها

### آرایشگر:
- داشبورد
- مشتریان
- آرایشگاه
- نوبت‌دهی
- فاکتور

### باریستا:
- داشبورد
- مشتریان
- کافه
- فاکتور

## توسعه آینده

- اتصال به API وب برای همگام‌سازی
- چاپ فاکتور با فونت فارسی
- نمودارهای پیشرفته با PyQt6-Charts
- ارسال پیامک یادآوری نوبت
- گزارشات PDF
- نسخه macOS و Linux

## مجوز

این پروژه برای استفاده شخصی و تجاری آزاد است.

## پشتیبانی

در صورت بروز مشکل، یک Issue در GitHub باز کنید.

---

**توسعه یافته با ❤️ برای کسب‌وکار کاگان**
